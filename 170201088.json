{"paragraphs":[{"text":"%md\n# BLM442 Büyük Veri Analizine Giriş Dersi Final Projesi \n## KA3 Üzerindeki İşlemlerin Apache Zeppelin Üzerinde Apache Spark ile Gerçekleştirilmesi\n* 170201088 - M. M. Enes YURTSEVER","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"lineNumbers":true,"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h1>BLM442 Büyük Veri Analizine Giriş Dersi Final Projesi</h1>\n<h2>KA3 Üzerindeki İşlemlerin Apache Zeppelin Üzerinde Apache Spark ile Gerçekleştirilmesi</h2>\n<ul>\n  <li>170201088 - M. M. Enes YURTSEVER</li>\n</ul>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753869_1920421481","id":"20200622-015100_16316603","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:43266"},{"text":"%md\n### CSV Veriler üzerinde veri ön işleme adımları\n* Aşağıda import edilen çeşitli csv veri setleri üzerinde genellikle sayılar için ondalık ayırıcı olarak kullanılan \",\" yerine \".\" kullanıldı. ","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h3>CSV Veriler üzerinde veri ön işleme adımları</h3>\n<ul>\n  <li>Aşağıda import edilen çeşitli csv veri setleri üzerinde genellikle sayılar için ondalık ayırıcı olarak kullanılan &ldquo;,&rdquo; yerine &ldquo;.&rdquo; kullanıldı.</li>\n</ul>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753869_1159709595","id":"20200622-142927_19973797","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43267"},{"text":"%md\n### CSV Dosyasının okunması","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h3>CSV Dosyasının okunması</h3>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753870_-1115936573","id":"20200622-143107_20237122","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43268"},{"text":"%spark\n\n// SCALA\nimport org.apache.commons.io.IOUtils\nimport org.apache.spark.sql.functions._\nimport java.net.URL\nimport java.nio.charset.Charset\n\n\n// load timesData\nval timesData = spark.read.options(Map(\"inferSchema\"->\"true\",\"delimiter\"->\";\",\"header\"->\"true\"))\n  .csv(\"/home/enes/zeppelin-0.8.2-bin-all/bin/timesData.csv\")\n  \ntimesData.toDF()\n// drop null rows\ntimesData.na.drop()\ntimesData.registerTempTable(\"times\")\ntimesData.dtypes\n\n\n// load shanghaiData shanghaiData.csv\nval shanghaiData = spark.read.options(Map(\"inferSchema\"->\"true\",\"delimiter\"->\",\",\"header\"->\"true\"))\n  .csv(\"/home/enes/zeppelin-0.8.2-bin-all/bin/shanghaiData.csv\")\nshanghaiData.toDF()\n// drop null rows\nshanghaiData.na.drop()\nshanghaiData.registerTempTable(\"shanghaiData\")\nshanghaiData.dtypes\n\n\n// load school and country info for shanghaiData: school_and_country_table.csv\nval schoolData = spark.read.options(Map(\"inferSchema\"->\"true\",\"delimiter\"->\",\",\"header\"->\"true\"))\n  .csv(\"/home/enes/zeppelin-0.8.2-bin-all/bin/school_and_country_table.csv\")\nschoolData.toDF()\nschoolData.na.drop()\nschoolData.registerTempTable(\"school_and_country_table\")\n\n\n// load CWURData: cwurData.csv\nval cwurData = spark.read.options(Map(\"inferSchema\"->\"true\",\"delimiter\"->\",\",\"header\"->\"true\"))\n  .csv(\"/home/enes/zeppelin-0.8.2-bin-all/bin/cwurData.csv\")\ncwurData.toDF()\ncwurData.na.drop()\ncwurData.registerTempTable(\"cwurData\")\n\n\n// load Barro-Lee Statistics data: educational_attainment_supplementary_data.csv,\nval barroLeeData = spark.read.options(Map(\"inferSchema\"->\"true\",\"delimiter\"->\",\",\"header\"->\"true\"))\n  .csv(\"/home/enes/zeppelin-0.8.2-bin-all/bin/educational_attainment_supplementary_data.csv\")\nbarroLeeData.toDF()\nbarroLeeData.na.drop()\nbarroLeeData.registerTempTable(\"BarroLeeData\")","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"tableHide":false,"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"editorHide":false,"results":{"0":{"graph":{"mode":"table","height":207.798,"optionOpen":false}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"warning: there were 5 deprecation warnings; re-run with -deprecation for details\nimport org.apache.commons.io.IOUtils\nimport org.apache.spark.sql.functions._\nimport java.net.URL\nimport java.nio.charset.Charset\ntimesData: org.apache.spark.sql.DataFrame = [world_rank: int, university_name: string ... 12 more fields]\nshanghaiData: org.apache.spark.sql.DataFrame = [world_rank: string, university_name: string ... 9 more fields]\nschoolData: org.apache.spark.sql.DataFrame = [school_name: string, country: string]\ncwurData: org.apache.spark.sql.DataFrame = [world_rank: int, institution: string ... 12 more fields]\nbarroLeeData: org.apache.spark.sql.DataFrame = [country_name: string, series_name: string ... 27 more fields]\n"}]},"apps":[],"jobName":"paragraph_1593004753870_1462111019","id":"20200622-015554_6294830","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43269"},{"text":"%md\n### Problem 1: Times veri setine göre başarı sıralamasındaki (world_rank) ilk 20 üniversitenin 2016 yılındaki toplam öğrenci sayısı","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h3>Problem 1: Times veri setine göre başarı sıralamasındaki (world_rank) ilk 20 üniversitenin 2016 yılındaki toplam öğrenci sayısı</h3>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753870_1430540837","id":"20200622-142315_8991072","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43270"},{"text":"%sql \nselect world_rank, university_name, num_students\nfrom times\nwhere world_rank BETWEEN 1 and 20 and year=2013\norder by num_students desc","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"tableHide":false,"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"results":{"0":{"graph":{"mode":"table","height":474.006,"optionOpen":true,"setting":{"table":{"tableGridState":{"columns":[{"name":"world_rank","visible":true,"width":"*","sort":{},"filters":[{}],"pinned":""},{"name":"university_name","visible":true,"width":"*","sort":{},"filters":[{}],"pinned":""},{"name":"num_students","visible":true,"width":"*","sort":{},"filters":[{}],"pinned":""}],"scrollFocus":{},"selection":[],"grouping":{"grouping":[],"aggregations":[],"rowExpandedStates":{}},"treeView":{},"pagination":{"paginationCurrentPage":1,"paginationPageSize":250}},"tableColumnTypeState":{"names":{"world_rank":"string","university_name":"string","num_students":"number"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false},"multiBarChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default","stacked":false},"stackedAreaChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"},"lineChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"}},"commonSetting":{},"keys":[{"name":"university_name","index":1,"aggr":"sum"}],"groups":[],"values":[{"name":"num_students","index":2,"aggr":"sum"}]},"helium":{}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"world_rank\tuniversity_name\tnum_students\n20\tUniversity of Michigan\t41.786\n13\tUniversity of California, Los Angeles\t38.206\n9\tUniversity of California, Berkeley\t36.186\n17\tUniversity College London\t26.607\n14\tColumbia University\t25.055\n18\tCornell University\t21.424\n15\tUniversity of Pennsylvania\t20.376\n4\tHarvard University\t20.152\n2\tUniversity of Oxford\t19.919\n7\tUniversity of Cambridge\t18.812\n19\tNorthwestern University\t18.334\n12\tETH Zurich – Swiss Federal Institute of Technology Zurich\t18.178\n2\tStanford University\t15.596\n16\tJohns Hopkins University\t15.128\n8\tImperial College London\t15.06\n10\tUniversity of Chicago\t14.221\n11\tYale University\t11.751\n5\tMassachusetts Institute of Technology\t11.074\n6\tPrinceton University\t7.929\n1\tCalifornia Institute of Technology\t2.243\n"},{"type":"TEXT","data":""}]},"apps":[],"jobName":"paragraph_1593004753870_2041980871","id":"20200622-015843_22396524","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43271"},{"text":"%md\n### Problem 2: Times veri setine göre başarı sıralamasındaki ilk 25 üniversitenin 2016 yılında kayıtlı uluslararası öğrenci sayısı oranı","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h3>Problem 2: Times veri setine göre başarı sıralamasındaki ilk 25 üniversitenin 2016 yılında kayıtlı uluslararası öğrenci sayısı oranı</h3>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753871_1189467716","id":"20200622-015603_17142006","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43272"},{"text":"%sql\nselect world_rank, university_name, country, international_students\nfrom times\nwhere world_rank between 1 and 25 and year=2016\norder by international_students desc","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"tableHide":false,"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"world_rank":"string","university_name":"string","country":"string","international_students":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"world_rank\tuniversity_name\tcountry\tinternational_students\n8\tImperial College London\tUnited Kingdom\t51%\n14\tUniversity College London\tUnited Kingdom\t46%\n9\tETH Zurich – Swiss Federal Institute of Technology Zurich\tSwitzerland\t37%\n24\tUniversity of Edinburgh\tUnited Kingdom\t36%\n22\tCarnegie Mellon University\tUnited States of America\t35%\n4\tUniversity of Cambridge\tUnited Kingdom\t34%\n2\tUniversity of Oxford\tUnited Kingdom\t34%\n5\tMassachusetts Institute of Technology\tUnited States of America\t33%\n15\tColumbia University\tUnited States of America\t28%\n7\tPrinceton University\tUnited States of America\t27%\n1\tCalifornia Institute of Technology\tUnited States of America\t27%\n6\tHarvard University\tUnited States of America\t25%\n11\tJohns Hopkins University\tUnited States of America\t23%\n3\tStanford University\tUnited States of America\t22%\n10\tUniversity of Chicago\tUnited States of America\t21%\n12\tYale University\tUnited States of America\t20%\n17\tUniversity of Pennsylvania\tUnited States of America\t20%\n18\tCornell University\tUnited States of America\t19%\n20\tDuke University\tUnited States of America\t17%\n21\tUniversity of Michigan\tUnited States of America\t16%\n16\tUniversity of California, Los Angeles\tUnited States of America\t15%\n13\tUniversity of California, Berkeley\tUnited States of America\t15%\n19\tUniversity of Toronto\tCanada\t15%\n25\tNorthwestern University\tUnited States of America\t15%\n23\tLondon School of Economics and Political Science\tUnited Kingdom\tnull\n"},{"type":"TEXT","data":""}]},"apps":[],"jobName":"paragraph_1593004753871_-1759300932","id":"20200622-015653_3312305","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43273"},{"text":"%md\n### Problem 3: Times veri setine göre 2014 yılında en iyi 30 üniversiteye sahip ülkeler ve üniversite sayısı","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h3>Problem 3: Times veri setine göre 2014 yılında en iyi 30 üniversiteye sahip ülkeler ve üniversite sayısı</h3>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753871_-119757835","id":"20200622-143504_4551984","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43274"},{"text":"%sql\nselect first(world_rank), first(university_name), country, count(country) as countryCount\nfrom times\nwhere world_rank between 1 and 30 and year=2014\ngroup by country\norder by country desc\n","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"first(world_rank, false)":"string","first(university_name, false)":"string","country":"string","countryCount":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"first(world_rank, false)\tfirst(university_name, false)\tcountry\tcountryCount\n1\tCalifornia Institute of Technology\tUnited States of America\t22\n2\tUniversity of Oxford\tUnited Kingdom\t4\n14\tETH Zurich – Swiss Federal Institute of Technology Zurich\tSwitzerland\t1\n26\tNational University of Singapore\tSingapore\t1\n23\tUniversity of Tokyo\tJapan\t1\n20\tUniversity of Toronto\tCanada\t1\n"},{"type":"TEXT","data":""}]},"apps":[],"jobName":"paragraph_1593004753871_1334589941","id":"20200622-143545_2129959","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43275"},{"text":"%md\n### Problem 4: Times veri setine göre 2011-2016 yıllarında ortalama öğrenci sayısı otuz beş binden fazla olan üniversiteler","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h3>Problem 4: Times veri setine göre 2011-2016 yıllarında ortalama öğrenci sayısı otuz beş binden fazla olan üniversiteler</h3>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753872_164278666","id":"20200622-145738_3741371","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43276"},{"text":"%sql\nselect first(world_rank), first(university_name), country, avg(num_students) as OrtalamaOgrenci\nfrom times\nwhere year BETWEEN 2011 AND 2016\ngroup by country \nhaving avg(num_students) > 35.000\norder by OrtalamaOgrenci asc","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":true,"setting":{"table":{"tableGridState":{"columns":[{"name":"first(world_rank, false)","visible":true,"width":"*","sort":{},"filters":[{}],"pinned":""},{"name":"first(university_name, false)","visible":true,"width":"*","sort":{},"filters":[{}],"pinned":""},{"name":"country","visible":true,"width":"*","sort":{},"filters":[{}],"pinned":""},{"name":"OrtalamaOgrenci","visible":true,"width":"*","sort":{},"filters":[{}],"pinned":""}],"scrollFocus":{},"selection":[],"grouping":{"grouping":[],"aggregations":[],"rowExpandedStates":{}},"treeView":{},"pagination":{"paginationCurrentPage":1,"paginationPageSize":250}},"tableColumnTypeState":{"names":{"first(world_rank, false)":"string","first(university_name, false)":"string","country":"string","OrtalamaOgrenci":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false},"multiBarChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default","stacked":true}},"commonSetting":{},"keys":[{"name":"first(university_name, false)","index":1,"aggr":"sum"}],"groups":[{"name":"country","index":2,"aggr":"sum"}],"values":[{"name":"OrtalamaOgrenci","index":3,"aggr":"sum"}]},"helium":{}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"first(world_rank, false)\tfirst(university_name, false)\tcountry\tOrtalamaOgrenci\n37\tPeking University\tChina\t35.73575609756097\n112\tBilkent University\tTurkey\t35.876444444444445\n601800\tUniversity of Ghana\tGhana\t37.274\n401500\tMakerere University\tUganda\t37.34\n178\tUniversity of São Paulo\tBrazil\t38.74704\n301350\tJagiellonian University\tPoland\t41.824615384615385\n601800\tUniversity of Indonesia\tIndonesia\t43.565\n301350\tUniversity of Marrakech Cadi Ayyad\tMorocco\t56.06\n226250\tUniversity of Bologna\tItaly\t59.806585106382975\n601800\tUniversity of Dhaka\tBangladesh\t62.716\n601800\tUniversity of Nairobi\tKenya\t72.676\n351400\tNational Autonomous University of Mexico\tMexico\t96.36966666666666\n601800\tUniversity of Belgrade\tSerbia\t96.968\n601800\tNational University of Córdoba\tArgentina\t108.373\n147\tAlexandria University\tEgypt\t126.21020000000001\n"},{"type":"TEXT","data":""}]},"apps":[],"jobName":"paragraph_1593004753872_1840294546","id":"20200622-155154_9977798","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43277"},{"text":"%md\n### Problem 5: Shanghai veri setine göre 2015 yılında en çok atıf alan araştırmacı puanına (hici) sahip ilk 20 üniversitenin başarı sırası\n","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h3>Problem 5: Shanghai veri setine göre 2015 yılında en çok atıf alan araştırmacı puanına (hici) sahip ilk 20 üniversitenin başarı sırası</h3>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753872_-365753238","id":"20200622-155347_15616482","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43278"},{"text":"%sql\nselect hici, university_name, world_rank\nfrom shanghaiData\nwhere year=2015\norder by hici desc\nlimit 20","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"results":{"0":{"graph":{"mode":"multiBarChart","height":300,"optionOpen":true,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"hici":"string","university_name":"string","world_rank":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false},"multiBarChart":{"rotate":{"degree":"-45"},"xLabelStatus":"rotate"},"stackedAreaChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"},"lineChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"},"scatterChart":{"xAxis":{"name":"university_name","index":1,"aggr":"sum"},"yAxis":{"name":"hici","index":0,"aggr":"sum"},"size":{"name":"hici","index":0,"aggr":"sum"}}},"keys":[{"name":"university_name","index":1,"aggr":"sum"}],"groups":[],"values":[{"name":"hici","index":0,"aggr":"sum"}],"commonSetting":{}},"helium":{}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"hici\tuniversity_name\tworld_rank\n100.0\tHarvard University\t1\n80.1\tStanford University\t2\n66.1\tUniversity of California, Berkeley\t4\n60.6\tMassachusetts Institute of Technology (MIT)\t3\n57.1\tPrinceton University\t6\n56.6\tUniversity of California, San Diego\t14\n56.2\tUniversity of Michigan-Ann Arbor\t22\n53.0\tUniversity of Washington\t15\n52.3\tUniversity of Oxford\t10\n52.3\tUniversity of California, Los Angeles\t12\n52.1\tColumbia University\t8\n51.0\tYale University\t11\n50.8\tUniversity of Cambridge\t5\n50.4\tCornell University\t13\n50.3\tNorthwestern University\t27\n50.2\tDuke University\t31\n49.6\tUniversity of Pennsylvania\t17\n49.3\tCalifornia Institute of Technology\t7\n49.0\tUniversity of Chicago\t9\n47.3\tUniversity of Minnesota, Twin Cities\t30\n"},{"type":"TEXT","data":""}]},"apps":[],"jobName":"paragraph_1593004753872_-1748444261","id":"20200622-160039_5839583","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43279"},{"text":"%md\n### Problem 6: Shanghai veri setine göre 2015 yılında toplam puanı (total_score) 65 ve üzerinde olan üniversitelerin bulunduğu ülke ve uluslararası sıralaması (inner join)\n>**shanghaiData** içerisinde yalnızca üniversite adı bulunmaktadır.\n**shanghaiData** tablosu ile **school_and_country_table** inner join işlemine sokulur.\nshanghaiData üniversite adı ile eşleşen ikinci tablodaki üniversitelerin ülkeleri elde edilmiş olur.","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h3>Problem 6: Shanghai veri setine göre 2015 yılında toplam puanı (total_score) 65 ve üzerinde olan üniversitelerin bulunduğu ülke ve uluslararası sıralaması (inner join)</h3>\n<blockquote>\n  <p><strong>shanghaiData</strong> içerisinde yalnızca üniversite adı bulunmaktadır.<br/><strong>shanghaiData</strong> tablosu ile <strong>school_and_country_table</strong> inner join işlemine sokulur.<br/>shanghaiData üniversite adı ile eşleşen ikinci tablodaki üniversitelerin ülkeleri elde edilmiş olur.</p>\n</blockquote>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753872_118912040","id":"20200622-161429_2703207","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43280"},{"text":"%sql\nselect world_rank, university_name, school_and_country_table.country, total_score\nfrom shanghaiData inner join school_and_country_table on shanghaiData.university_name = school_and_country_table.school_name\nwhere year=2015 and total_score >=65","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":true,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"world_rank":"string","university_name":"string","country":"string","total_score":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false},"multiBarChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"},"pieChart":{},"stackedAreaChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"},"lineChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default","lineWithFocus":false,"isDateFormat":false,"forceY":false},"scatterChart":{"xAxis":{"name":"university_name","index":1,"aggr":"sum"},"size":{"name":"total_score","index":3,"aggr":"sum"},"yAxis":{"name":"total_score","index":3,"aggr":"sum"},"group":{"name":"country","index":2,"aggr":"sum"}}},"keys":[{"name":"university_name","index":1,"aggr":"sum"}],"groups":[],"values":[{"name":"total_score","index":3,"aggr":"sum"}]},"helium":{}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"world_rank\tuniversity_name\tcountry\ttotal_score\n1\tHarvard University\tUnited States of America\t100.0\n2\tStanford University\tUnited States of America\t73.3\n4\tUniversity of California, Berkeley\tUnited States of America\t69.6\n5\tUniversity of Cambridge\tUnited Kingdom\t68.8\n"},{"type":"TEXT","data":""}]},"apps":[],"jobName":"paragraph_1593004753873_-112751039","id":"20200622-160425_6558427","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43281"},{"text":"%md\n### Problem 7: CWUR veri setine göre 2015 yılında Türkiye’deki üniversitelerin puanlarının ortalaması ve uluslararası sıralamaları\n\n>**Aggregation functionlar** kullanıldığında, gruplanan belirli kayıtların hesabı tek bir satırda verilir.\nProblemimizde, Türkiye'deki her bir üniversitenin ayrı ayrı ortalamasının hesaplanması beklenmektedir.\nBu noktada **analytic function** kullanımı doğru olacaktır. **over** içerisinde **partition by** ile, _her bir üniversite için_ ortalama hesabı alınabilir.","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h3>Problem 7: CWUR veri setine göre 2015 yılında Türkiye’deki üniversitelerin puanlarının ortalaması ve uluslararası sıralamaları</h3>\n<blockquote>\n  <p><strong>Aggregation functionlar</strong> kullanıldığında, gruplanan belirli kayıtların hesabı tek bir satırda verilir.<br/>Problemimizde, Türkiye&rsquo;deki her bir üniversitenin ayrı ayrı ortalamasının hesaplanması beklenmektedir.<br/>Bu noktada <strong>analytic function</strong> kullanımı doğru olacaktır. <strong>over</strong> içerisinde <strong>partition by</strong> ile, <em>her bir üniversite için</em> ortalama hesabı alınabilir.</p>\n</blockquote>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753873_540325159","id":"20200622-161408_14235800","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43282"},{"text":"%sql\nselect world_rank, national_rank, institution, avg(score) over (partition by institution) AS AVG_Point\nfrom cwurData\nwhere year=2015 and country='Turkey'\norder by national_rank asc","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"results":{"0":{"graph":{"mode":"scatterChart","height":300,"optionOpen":true,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"world_rank":"string","national_rank":"string","institution":"string","AVG_Point":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false},"multiBarChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default","stacked":false},"stackedAreaChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"},"lineChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"},"scatterChart":{"xAxis":{"name":"institution","index":2,"aggr":"sum"},"size":{"name":"AVG_Point","index":3,"aggr":"sum"},"yAxis":{"name":"AVG_Point","index":3,"aggr":"sum"}}},"keys":[{"name":"world_rank","index":0,"aggr":"sum"},{"name":"institution","index":2,"aggr":"sum"}],"groups":[],"values":[{"name":"AVG_Point","index":3,"aggr":"sum"}],"commonSetting":{}},"helium":{}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"world_rank\tnational_rank\tinstitution\tAVG_Point\n470\t1\tMiddle East Technical University\t44.87\n623\t2\tIstanbul University\t44.48\n634\t3\tHacettepe University\t44.45\n725\t4\tAnkara University\t44.33\n742\t5\tIstanbul Technical University\t44.31\n779\t6\tEge University\t44.27\n837\t7\tBoğaziçi University\t44.19\n842\t8\tBilkent University\t44.19\n852\t9\tGazi University\t44.18\n954\t10\tDokuz Eylül University\t44.07\n"},{"type":"TEXT","data":""}]},"apps":[],"jobName":"paragraph_1593004753873_-2108151050","id":"20200622-161828_24162483","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43283"},{"text":"%md\n### Problem 8: Shanghai veri setine göre Princeton Üniversitesi’nin 2005-2014 yılları arasındaki toplam puanının değişimi\n> İlgili üniversitenin yıllara göre total_score değeri gözlenmiştir.\nEn yüksek yıl bulunmuş, bu yıl ile her yılın farkı da yeni bir sütunda gösterilmiştir.","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h3>Problem 8: Shanghai veri setine göre Princeton Üniversitesi’nin 2005-2014 yılları arasındaki toplam puanının değişimi</h3>\n<blockquote>\n  <p>İlgili üniversitenin yıllara göre total_score değeri gözlenmiştir.<br/>En yüksek yıl bulunmuş, bu yıl ile her yılın farkı da yeni bir sütunda gösterilmiştir.</p>\n</blockquote>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753873_-338015455","id":"20200622-162028_18261033","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43284"},{"text":"%sql\nselect world_rank, university_name, year, total_score, MAX(total_score) over() as En_Yuksek, MAX(total_score) over() - total_score as En_Yuksek_ile_Farki\nfrom shanghaiData\nwhere year between 2005 and 2014 and university_name=\"Princeton University\"\norder by total_score desc","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":true,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"world_rank":"string","university_name":"string","year":"string","total_score":"string","En_Yuksek":"string","En_Yuksek_ile_Farki":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false},"lineChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"},"multiBarChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"}},"commonSetting":{},"keys":[{"name":"year","index":2,"aggr":"sum"}],"groups":[],"values":[{"name":"En_Yuksek_ile_Farki","index":5,"aggr":"sum"}]},"helium":{}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"world_rank\tuniversity_name\tyear\ttotal_score\tEn_Yuksek\tEn_Yuksek_ile_Farki\n7\tPrinceton University\t2012\t62.1\t62.1\t0.0\n7\tPrinceton University\t2013\t61.9\t62.1\t0.20000000000000284\n7\tPrinceton University\t2011\t61.2\t62.1\t0.8999999999999986\n8\tPrinceton University\t2005\t60.9\t62.1\t1.2000000000000028\n7\tPrinceton University\t2010\t60.8\t62.1\t1.3000000000000043\n6\tPrinceton University\t2014\t60.7\t62.1\t1.3999999999999986\n8\tPrinceton University\t2009\t60.2\t62.1\t1.8999999999999986\n8\tPrinceton University\t2007\t59.5\t62.1\t2.6000000000000014\n8\tPrinceton University\t2008\t58.9\t62.1\t3.200000000000003\n8\tPrinceton University\t2006\t58.6\t62.1\t3.5\n"},{"type":"TEXT","data":""}]},"apps":[],"jobName":"paragraph_1593004753873_-140338460","id":"20200622-162718_22105992","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43285"},{"text":"%md\n### Problem 9: Shanghai veri setine göre 2014 yılında ABD'deki toplam skoru 50'den yüksek üniversiteler (inner join)\n>**shanghaiData** tablosu ile **school_and_country_table** inner join işlemine sokulur. **shanghaiData** içerisinde ülkeler elde edilmiş olur.","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h3>Problem 9: Shanghai veri setine göre 2014 yılında ABD&rsquo;deki toplam skoru 50&rsquo;den yüksek üniversiteler (inner join)</h3>\n<blockquote>\n  <p><strong>shanghaiData</strong> tablosu ile <strong>school_and_country_table</strong> inner join işlemine sokulur. <strong>shanghaiData</strong> içerisinde ülkeler elde edilmiş olur.</p>\n</blockquote>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753874_-18007318","id":"20200622-162748_23496906","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43286"},{"text":"%sql\nselect world_rank, university_name, school_and_country_table.country, total_score\nfrom shanghaiData \ninner join school_and_country_table ON shanghaiData.university_name = school_and_country_table.school_name\nwhere year=2014 AND country=\"United States of America\" \norder by total_score DESC\nlimit 10","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"results":{"0":{"graph":{"mode":"lineChart","height":300,"optionOpen":true,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"world_rank":"string","university_name":"string","country":"string","total_score":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false},"scatterChart":{"xAxis":{"name":"university_name","index":1,"aggr":"sum"},"yAxis":{"name":"total_score","index":3,"aggr":"sum"},"size":{"name":"total_score","index":3,"aggr":"sum"}},"lineChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"}},"commonSetting":{},"keys":[{"name":"university_name","index":1,"aggr":"sum"}],"groups":[],"values":[{"name":"total_score","index":3,"aggr":"sum"}]},"helium":{}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"world_rank\tuniversity_name\tcountry\ttotal_score\n1\tHarvard University\tUnited States of America\t100.0\n2\tStanford University\tUnited States of America\t72.1\n6\tPrinceton University\tUnited States of America\t60.7\n7\tCalifornia Institute of Technology\tUnited States of America\t60.5\n8\tColumbia University\tUnited States of America\t59.6\n9\tUniversity of Chicago\tUnited States of America\t57.4\n11\tYale University\tUnited States of America\t55.2\n12\tUniversity of California, Los Angeles\tUnited States of America\t51.9\n13\tCornell University\tUnited States of America\t50.6\n14\tUniversity of California, San Diego\tUnited States of America\t49.3\n"},{"type":"TEXT","data":""}]},"apps":[],"jobName":"paragraph_1593004753874_226487221","id":"20200622-163214_22487374","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43287"},{"text":"%md\n### Problem 10: Barro-Lee veri setinde yıllara göre Türkiye’de eğitimsiz 20-24 yaş aralığındaki kadın nüfus yüzdesi\n>Barro-Lee veri setinde yıllar sütun olarak verilmiştir. ","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h3>Problem 10: Barro-Lee veri setinde yıllara göre Türkiye’de eğitimsiz 20-24 yaş aralığındaki kadın nüfus yüzdesi</h3>\n<blockquote>\n  <p>Barro-Lee veri setinde yıllar sütun olarak verilmiştir.</p>\n</blockquote>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753874_-1189668902","id":"20200622-163518_7902047","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43288"},{"text":"%sql\nSELECT *\nFROM BarroLeeData\nWHERE country_name=\"Turkey\" AND series_name=\"Barro-Lee: Percentage of female population age 20-24 with no education\"","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":true,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"1985":"string","1986":"string","1987":"string","1990":"string","1991":"string","1992":"string","1993":"string","1995":"string","1996":"string","1997":"string","1998":"string","1999":"string","2000":"string","2001":"string","2002":"string","2003":"string","2004":"string","2005":"string","2006":"string","2007":"string","2008":"string","2009":"string","2010":"string","2011":"string","2012":"string","2013":"string","2015":"string","country_name":"string","series_name":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false},"multiBarChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default","stacked":false},"stackedAreaChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default","style":"stack"},"lineChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"}},"commonSetting":{},"keys":[{"name":"country_name","index":0,"aggr":"sum"}],"groups":[],"values":[{"name":"1985","index":2,"aggr":"sum"},{"name":"1990","index":5,"aggr":"sum"},{"name":"1995","index":9,"aggr":"sum"},{"name":"2000","index":14,"aggr":"sum"},{"name":"2005","index":19,"aggr":"sum"}]},"helium":{}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"country_name\tseries_name\t1985\t1986\t1987\t1990\t1991\t1992\t1993\t1995\t1996\t1997\t1998\t1999\t2000\t2001\t2002\t2003\t2004\t2005\t2006\t2007\t2008\t2009\t2010\t2011\t2012\t2013\t2015\nTurkey\tBarro-Lee: Percentage of female population age 20-24 with no education\t20.8\tnull\tnull\t20.04\tnull\tnull\tnull\t14.2\tnull\tnull\tnull\tnull\t7.64\tnull\tnull\tnull\tnull\t6.67\tnull\tnull\tnull\tnull\t4.35\tnull\tnull\tnull\tnull\n"},{"type":"TEXT","data":""}]},"apps":[],"jobName":"paragraph_1593004753874_-1588844723","id":"20200622-164030_15421215","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43289"},{"text":"%md\n### Problem 11: CWUR veri setine göre 2015 yılında bazı ülkelerin en iyi üniversitelerinin (national_rank) dünya sıralamalarına (world_rank) göre konumu ve eğitim kalite puanının incelenmesi\n>Bu sorgudaki amaç, ulusal olarak en iyi durumdaki üniversitelerin dünyadaki konumunu incelemektir.\n**quality_of_education** alanı, sıralama alanıdır (düşük olan daha iyi).","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h3>Problem 11: CWUR veri setine göre 2015 yılında bazı ülkelerin en iyi üniversitelerinin (national_rank) dünya sıralamalarına (world_rank) göre konumu ve eğitim kalite puanının incelenmesi</h3>\n<blockquote>\n  <p>Bu sorgudaki amaç, ulusal olarak en iyi durumdaki üniversitelerin dünyadaki konumunu incelemektir.<br/><strong>quality_of_education</strong> alanı, sıralama alanıdır (düşük olan daha iyi).</p>\n</blockquote>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753874_-119113048","id":"20200622-164051_25939518","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43290"},{"text":"%sql\nselect institution, country, quality_of_education, national_rank, world_rank\nfrom cwurData \nwhere national_rank=1\nlimit 15","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":true,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"institution":"string","country":"string","quality_of_education":"string","national_rank":"string","world_rank":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false},"multiBarChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"}},"commonSetting":{},"keys":[{"name":"institution","index":0,"aggr":"sum"}],"groups":[],"values":[{"name":"quality_of_education","index":2,"aggr":"sum"}]},"helium":{}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"institution\tcountry\tquality_of_education\tnational_rank\tworld_rank\nHarvard University\tUSA\t7\t1\t1\nUniversity of Cambridge\tUnited Kingdom\t10\t1\t4\nUniversity of Tokyo\tJapan\t32\t1\t14\nSwiss Federal Institute of Technology in Zurich\tSwitzerland\t26\t1\t16\nWeizmann Institute of Science\tIsrael\t4\t1\t18\nUniversity of Toronto\tCanada\t101\t1\t35\nUniversity of Paris-Sud\tFrance\t48\t1\t48\nUniversity of Edinburgh\tUnited Kingdom\t71\t1\t60\nKarolinska Institute\tSweden\t51\t1\t70\nSeoul National University\tSouth Korea\t101\t1\t75\nSapienza University of Rome\tItaly\t101\t1\t77\nRuprecht Karl University of Heidelberg\tGermany\t87\t1\t82\nLeiden University\tNetherlands\t88\t1\t85\nUniversity of Helsinki\tFinland\t96\t1\t89\nUniversity of Oslo\tNorway\t101\t1\t91\n"},{"type":"TEXT","data":""}]},"apps":[],"jobName":"paragraph_1593004753875_355945987","id":"20200622-164407_29694627","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43291"},{"text":"%md\n### Problem 12: Times veri setine göre 2016 yılında teaching puanı en düşük ilk 15 üniversitenin öğrenci sayısı","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h3>Problem 12: Times veri setine göre 2016 yılında teaching puanı en düşük ilk 15 üniversitenin öğrenci sayısı</h3>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753875_228803779","id":"20200622-164423_9142449","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43292"},{"text":"%sql\nselect world_rank, university_name, country, teaching, num_students\nfrom times\nwhere year=2016\norder by teaching asc \nlimit 15","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"results":{"0":{"graph":{"mode":"scatterChart","height":300,"optionOpen":true,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"world_rank":"string","university_name":"string","country":"string","teaching":"string","num_students":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false},"multiBarChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default","stacked":false},"stackedAreaChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"},"lineChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"},"scatterChart":{"xAxis":{"name":"university_name","index":1,"aggr":"sum"},"yAxis":{"name":"teaching","index":3,"aggr":"sum"},"size":{"name":"teaching","index":3,"aggr":"sum"},"group":{"name":"country","index":2,"aggr":"sum"}}},"keys":[{"name":"university_name","index":1,"aggr":"sum"}],"groups":[],"values":[{"name":"teaching","index":3,"aggr":"sum"}],"commonSetting":{}},"helium":{}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"world_rank\tuniversity_name\tcountry\tteaching\tnum_students\n601800\tQatar University\tQatar\t9.9\t9.583\n601800\tCalifornia State University, Long Beach\tUnited States of America\t11.6\t29.594\n601800\tAnadolu University\tTurkey\t12.2\t379.231\n601800\tAmerican University of Sharjah\tUnited Arab Emirates\t12.4\t5.226\n601800\tIShou University\tTaiwan\t12.8\t16.263\n601800\tAthens University of Economics and Business\tGreece\t13.4\t13.167\n601800\tUniversity of Nairobi\tKenya\t13.7\t72.676\n601800\tAGH University of Science and Technology\tPoland\t14.2\t35.569\n601800\tAsia University, Taiwan\tTaiwan\t14.4\t12.119\n601800\tFu Jen Catholic University\tTaiwan\t14.4\t25.951\n601800\tYıldız Technical University\tTurkey\t14.5\t31.268\n401500\tUniversity of Ioannina\tGreece\t14.5\t20.825\n601800\tFeng Chia University\tTaiwan\t14.6\t20.213\n351400\tLille 2 University – Health and Law\tFrance\t15.1\t26.894\n401500\tMakerere University\tUganda\t15.1\t37.34\n"},{"type":"TEXT","data":""}]},"apps":[],"jobName":"paragraph_1593004753875_10145774","id":"20200622-164456_4625625","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43293"},{"text":"%md\n### Problem 13: Times veri setine göre 2016 yılında atıf puanı (citations) en fazla olan üniversitelerin öğrenci-akademik personel oranı ve uluslararası sıralamaları","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h3>Problem 13: Times veri setine göre 2016 yılında atıf puanı (citations) en fazla olan üniversitelerin öğrenci-akademik personel oranı ve uluslararası sıralamaları</h3>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753875_1780575321","id":"20200622-164539_25732640","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43294"},{"text":"%sql\nselect university_name, country, citations, student_staff_ratio, world_rank\nfrom times\nwhere year=2016\norder by citations desc\nlimit 15","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"results":{"0":{"graph":{"mode":"multiBarChart","height":300,"optionOpen":true,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"university_name":"string","country":"string","citations":"string","student_staff_ratio":"string","world_rank":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false},"multiBarChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"},"pieChart":{},"stackedAreaChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"},"lineChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"},"scatterChart":{"xAxis":{"name":"university_name","index":0,"aggr":"sum"},"yAxis":{"name":"citations","index":2,"aggr":"sum"},"size":{"name":"citations","index":2,"aggr":"sum"},"group":{"name":"country","index":1,"aggr":"sum"}}},"keys":[{"name":"university_name","index":0,"aggr":"sum"}],"groups":[],"values":[{"name":"citations","index":2,"aggr":"sum"},{"name":"student_staff_ratio","index":3,"aggr":"sum"}],"commonSetting":{}},"helium":{}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"university_name\tcountry\tcitations\tstudent_staff_ratio\tworld_rank\nSt George’s, University of London\tUnited Kingdom\t100.0\t13.4\t196\nStanford University\tUnited States of America\t99.9\t7.8\t3\nUniversity of California, Santa Cruz\tUnited States of America\t99.9\t22.7\t144\nHarvard University\tUnited States of America\t99.8\t8.9\t6\nCalifornia Institute of Technology\tUnited States of America\t99.8\t6.9\t1\nRice University\tUnited States of America\t99.7\t9.0\t101\nMassachusetts Institute of Technology\tUnited States of America\t99.7\t9.0\t5\nUniversity of California, Berkeley\tUnited States of America\t99.7\t16.4\t13\nPrinceton University\tUnited States of America\t99.3\t8.4\t7\nUniversity of California, Santa Barbara\tUnited States of America\t99.2\t27.3\t39\nWashington University in St Louis\tUnited States of America\t99.2\t5.7\t60\nUniversity of Chicago\tUnited States of America\t99.2\t6.9\t10\nCarnegie Mellon University\tUnited States of America\t99.1\t13.1\t22\nDuke University\tUnited States of America\t99.0\t4.8\t20\nUniversity of Oxford\tUnited Kingdom\t98.8\t11.6\t2\n"},{"type":"TEXT","data":""}]},"apps":[],"jobName":"paragraph_1593004753875_1355172890","id":"20200622-164612_20611221","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43295"},{"text":"%md\n### Problem 14: Times veri setine göre 2016 yılında Birleşik Krallık'ın en başarılı ilk yüz üniversite arasındaki durumu\n\n>Bu sorgu ile Times veri setindeki **total_score** alanına göre en başarılı ilk 100 üniversitenin hangilerinin Birleşik Krallık'ta olduğu aranmaktadır.\n>Çıktıda da görüldüğü üzere **world_rank** 100 ve küçük olan değerlerde Birleşik Krallık'tan 16 üniversite yer almaktadır.","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h3>Problem 14: Times veri setine göre 2016 yılında Birleşik Krallık&rsquo;ın en başarılı ilk yüz üniversite arasındaki durumu</h3>\n<blockquote>\n  <p>Bu sorgu ile Times veri setindeki <strong>total_score</strong> alanına göre en başarılı ilk 100 üniversitenin hangilerinin Birleşik Krallık&rsquo;ta olduğu aranmaktadır.<br/>Çıktıda da görüldüğü üzere <strong>world_rank</strong> 100 ve küçük olan değerlerde Birleşik Krallık&rsquo;tan 16 üniversite yer almaktadır.</p>\n</blockquote>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753876_-899846977","id":"20200622-164646_12502241","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43296"},{"text":"%sql\nselect world_rank, university_name, country, total_score, COUNT(country) over() AS UK_Count\nfrom times\nwhere year=2016 and world_rank<=100 and country LIKE 'United King%'\norder by total_score desc\nlimit 50","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":true,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"world_rank":"string","university_name":"string","country":"string","total_score":"string","UK_Count":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false},"multiBarChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"},"pieChart":{},"stackedAreaChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"},"lineChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"},"scatterChart":{"xAxis":{"name":"university_name","index":1,"aggr":"sum"},"yAxis":{"name":"total_score","index":3,"aggr":"sum"},"size":{"name":"total_score","index":3,"aggr":"sum"},"group":{"name":"country","index":2,"aggr":"sum"}}},"keys":[{"name":"university_name","index":1,"aggr":"sum"}],"groups":[],"values":[{"name":"total_score","index":3,"aggr":"sum"}],"commonSetting":{}},"helium":{}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"world_rank\tuniversity_name\tcountry\ttotal_score\tUK_Count\n2\tUniversity of Oxford\tUnited Kingdom\t94.2\t16\n4\tUniversity of Cambridge\tUnited Kingdom\t92.8\t16\n8\tImperial College London\tUnited Kingdom\t89.1\t16\n14\tUniversity College London\tUnited Kingdom\t87.1\t16\n23\tLondon School of Economics and Political Science\tUnited Kingdom\t81.3\t16\n24\tUniversity of Edinburgh\tUnited Kingdom\t80.3\t16\n27\tKing’s College London\tUnited Kingdom\t78.2\t16\n56\tUniversity of Manchester\tUnited Kingdom\t68.1\t16\n69\tUniversity of Bristol\tUnited Kingdom\t64.3\t16\n70\tDurham University\tUnited Kingdom\t63.6\t16\n76\tUniversity of Glasgow\tUnited Kingdom\t61.9\t16\n80\tUniversity of Warwick\tUnited Kingdom\t61.3\t16\n86\tUniversity of St Andrews\tUnited Kingdom\t60.4\t16\n93\tUniversity of Exeter\tUnited Kingdom\t59.5\t16\n97\tUniversity of Sheffield\tUnited Kingdom\t58.6\t16\n98\tQueen Mary University of London\tUnited Kingdom\t58.5\t16\n"},{"type":"TEXT","data":""}]},"apps":[],"jobName":"paragraph_1593004753876_1986580033","id":"20200622-164748_26411780","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43297"},{"text":"%md\n### Problem 15: Shanghai veri setine göre 2014 yılında total_score puanı 50 ve üzeri olan üniversitelerin ülkeleri (inner join)","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h3>Problem 15: Shanghai veri setine göre 2014 yılında total_score puanı 50 ve üzeri olan üniversitelerin ülkeleri (inner join)</h3>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753876_457018400","id":"20200622-164801_6044869","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43298"},{"text":"%sql\nselect world_rank, university_name, total_score, school_and_country_table.country\nfrom shanghaiData\ninner join school_and_country_table ON shanghaiData.university_name = school_and_country_table.school_name\nwhere year=2015 and total_score >=50\norder by total_score desc","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"results":{"0":{"graph":{"mode":"multiBarChart","height":300,"optionOpen":true,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"world_rank":"string","university_name":"string","total_score":"string","country":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false},"multiBarChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"},"pieChart":{},"stackedAreaChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"},"lineChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default","forceY":false,"lineWithFocus":false},"scatterChart":{"xAxis":{"name":"university_name","index":1,"aggr":"sum"},"size":{"name":"total_score","index":2,"aggr":"sum"},"group":{"name":"country","index":3,"aggr":"sum"},"yAxis":{"name":"total_score","index":2,"aggr":"sum"}}},"keys":[{"name":"university_name","index":1,"aggr":"sum"}],"groups":[],"values":[{"name":"total_score","index":2,"aggr":"sum"}],"commonSetting":{}},"helium":{}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"world_rank\tuniversity_name\ttotal_score\tcountry\n1\tHarvard University\t100.0\tUnited States of America\n2\tStanford University\t73.3\tUnited States of America\n4\tUniversity of California, Berkeley\t69.6\tUnited States of America\n5\tUniversity of Cambridge\t68.8\tUnited Kingdom\n6\tPrinceton University\t61.0\tUnited States of America\n7\tCalifornia Institute of Technology\t59.6\tUnited States of America\n8\tColumbia University\t58.8\tUnited States of America\n9\tUniversity of Chicago\t57.1\tUnited States of America\n10\tUniversity of Oxford\t56.6\tUnited Kingdom\n11\tYale University\t54.5\tUnited States of America\n12\tUniversity of California, Los Angeles\t50.7\tUnited States of America\n13\tCornell University\t50.5\tUnited States of America\n"},{"type":"TEXT","data":""}]},"apps":[],"jobName":"paragraph_1593004753876_-1575577165","id":"20200622-164921_15814030","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43299"},{"text":"%md\n### KA3 İşlemleri Bitti","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h3>KA3 İşlemleri Bitti</h3>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753876_1923227499","id":"20200622-171137_611321","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43300"},{"text":"%md\n## KA5 Üzerindeki İşlemlerin Apache Zeppelin Üzerinde Gerçekleştirilmesi\n* 170201088 - M. M. Enes YURTSEVER","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h2>KA5 Üzerindeki İşlemlerin Apache Zeppelin Üzerinde Gerçekleştirilmesi</h2>\n<ul>\n  <li>170201088 - M. M. Enes YURTSEVER</li>\n</ul>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753877_-1135357317","id":"20200622-164956_29673728","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43301"},{"text":"%md\n### Kısım 1 (Regresyon Analizi): KA1 ve KA3'te kullanılan veri seti kullanıldı.\n### Times veri setinde 2012 yılı için üniversitelerin araştırma kategorisindeki puanlarının, üniversite toplam puanına etkisinin gözlenmesi\nTimes veri setinde üniversitelerin **araştırma puanları**, üniversiteler arasında ün (reputation), araştırma geliri ve araştırma verimliliği (yayın sayısı) göz önünde bulundurularak belirlenmiştir.\nResearch puanı, total_score puanının üzerinde **%30'luk bir etkiye sahiptir.**\nDolayısı ile **resarch** alanı ile **total_score** arasında **lineer bir ilişki vardır.** Model, bu iki alan kullanılarak oluşturulacaktır.","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h3>Kısım 1 (Regresyon Analizi): KA1 ve KA3&rsquo;te kullanılan veri seti kullanıldı.</h3>\n<h3>Times veri setinde 2012 yılı için üniversitelerin araştırma kategorisindeki puanlarının, üniversite toplam puanına etkisinin gözlenmesi</h3>\n<p>Times veri setinde üniversitelerin <strong>araştırma puanları</strong>, üniversiteler arasında ün (reputation), araştırma geliri ve araştırma verimliliği (yayın sayısı) göz önünde bulundurularak belirlenmiştir.<br/>Research puanı, total_score puanının üzerinde <strong>%30&rsquo;luk bir etkiye sahiptir.</strong><br/>Dolayısı ile <strong>resarch</strong> alanı ile <strong>total_score</strong> arasında <strong>lineer bir ilişki vardır.</strong> Model, bu iki alan kullanılarak oluşturulacaktır.</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753877_-64229271","id":"20200622-173405_17485381","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43302"},{"text":"%sql\nselect research, total_score\nfrom times\nwhere year=2012","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"results":{"0":{"graph":{"mode":"scatterChart","height":300,"optionOpen":true,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"research":"string","total_score":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false},"multiBarChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"},"scatterChart":{"xAxis":{"name":"research","index":0,"aggr":"sum"},"yAxis":{"name":"total_score","index":1,"aggr":"sum"}},"stackedAreaChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"},"lineChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"}},"keys":[{"name":"research","index":0,"aggr":"sum"}],"groups":[],"values":[{"name":"total_score","index":1,"aggr":"sum"}],"commonSetting":{}},"helium":{}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"research\ttotal_score\n98.2\t94.8\n97.4\t93.9\n98.9\t93.9\n96.6\t93.6\n99.1\t92.9\n94.2\t92.4\n87.4\t92.3\n88.7\t90.7\n90.8\t90.2\n99.4\t89.8\n91.2\t89.1\n81.8\t87.5\n92.5\t87.3\n86.5\t85.8\n85.8\t85.0\n86.1\t84.9\n84.3\t83.2\n90.0\t82.8\n87.4\t81.6\n87.2\t80.5\n79.5\t78.4\n77.9\t77.4\n78.6\t77.4\n73.8\t77.0\n74.0\t76.5\n75.5\t76.2\n77.3\t75.8\n78.4\t75.5\n76.1\t74.9\n80.3\t74.3\n81.3\t74.2\n73.8\t73.1\n72.0\t73.0\n80.1\t72.3\n65.3\t72.1\n61.4\t72.0\n72.4\t71.9\n75.1\t71.2\n68.7\t71.2\n79.0\t70.9\n58.9\t70.5\n72.5\t70.0\n62.6\t69.3\n65.4\t69.0\n59.9\t67.6\n43.9\t66.3\n75.4\t66.0\n61.1\t65.7\n53.6\t65.6\n64.1\t65.6\n66.7\t64.9\n72.0\t64.8\n51.9\t64.6\n46.2\t64.2\n48.7\t64.0\n54.2\t63.2\n56.2\t63.0\n65.7\t62.4\n53.9\t62.0\n33.5\t62.0\n45.9\t61.9\n58.6\t61.7\n38.8\t61.5\n58.3\t61.1\n49.9\t61.0\n47.7\t60.9\n64.7\t60.8\n53.2\t60.4\n50.9\t60.3\n47.6\t59.6\n70.1\t59.5\n38.0\t59.0\n41.5\t58.7\n52.3\t58.6\n39.8\t57.4\n47.6\t57.4\n37.4\t57.3\n42.6\t57.3\n55.3\t57.0\n58.5\t56.9\n60.0\t56.8\n33.5\t56.8\n37.9\t56.4\n30.5\t56.0\n40.2\t55.7\n42.3\t55.4\n65.1\t55.2\n37.1\t55.1\n36.2\t55.0\n38.7\t54.9\n54.2\t54.8\n54.7\t54.7\n40.2\t54.6\n54.6\t54.5\n43.6\t54.5\n49.6\t54.4\n43.0\t54.2\n49.4\t54.0\n34.8\t53.9\n54.4\t53.7\n46.0\t53.6\n41.0\t53.4\n41.1\t53.2\n66.1\t53.1\n47.0\t53.1\n52.2\t53.0\n24.1\t52.9\n58.9\t52.8\n54.5\t52.6\n36.6\t52.5\n21.9\t52.2\n34.6\t52.1\n41.0\t51.9\n28.7\t51.4\n48.0\t51.3\n40.4\t51.2\n48.5\t51.1\n23.5\t51.1\n56.5\t51.0\n55.7\t50.8\n56.4\t50.4\n38.8\t50.4\n34.5\t50.2\n50.8\t50.1\n49.0\t50.0\n59.9\t50.0\n39.0\t49.9\n28.6\t49.9\n35.5\t49.9\n39.0\t49.8\n35.7\t49.7\n36.0\t49.7\n43.9\t49.5\n52.4\t49.2\n33.6\t49.0\n31.6\t49.0\n42.2\t49.0\n40.4\t48.0\n41.2\t47.9\n40.0\t47.7\n42.1\t47.6\n21.4\t47.6\n30.9\t47.5\n40.4\t47.4\n26.1\t47.3\n28.4\t47.0\n18.9\t47.0\n42.6\t46.9\n25.8\t46.8\n27.3\t46.7\n50.2\t46.6\n48.5\t46.6\n32.2\t46.6\n58.5\t46.2\n27.0\t46.2\n33.3\t46.1\n27.2\t46.0\n44.5\t46.0\n43.8\t45.9\n23.7\t45.9\n35.3\t45.9\n38.9\t45.8\n21.6\t45.8\n51.8\t45.7\n38.6\t45.7\n60.7\t45.4\n43.9\t45.2\n25.1\t45.1\n47.8\t45.0\n18.7\t45.0\n34.7\t45.0\n23.3\t44.8\n36.1\t44.6\n35.0\t44.6\n40.2\t44.6\n20.1\t44.5\n31.5\t44.2\n24.1\t44.1\n58.0\t44.1\n37.2\t43.8\n21.7\t43.6\n33.5\t43.6\n36.9\t43.6\n30.1\t43.4\n34.8\t43.2\n16.1\t43.1\n39.5\t43.0\n24.1\t43.0\n18.7\t42.9\n35.8\t42.9\n26.6\t42.8\n23.5\t42.7\n35.0\t42.6\n29.7\t42.5\n18.9\t42.4\n19.6\t41.6\n14.2\t41.5\n30.5\t41.5\n30.3\t41.5\n30.4\t41.4\n27.9\tnull\n22.3\tnull\n34.0\tnull\n22.8\tnull\n39.2\tnull\n44.5\tnull\n18.9\tnull\n45.0\tnull\n34.1\tnull\n18.8\tnull\n29.2\tnull\n35.6\tnull\n33.4\tnull\n22.2\tnull\n24.9\tnull\n35.9\tnull\n36.4\tnull\n37.7\tnull\n13.8\tnull\n14.4\tnull\n28.0\tnull\n29.3\tnull\n17.3\tnull\n44.2\tnull\n34.3\tnull\n18.0\tnull\n25.9\tnull\n24.2\tnull\n37.2\tnull\n32.0\tnull\n10.5\tnull\n30.7\tnull\n12.2\tnull\n26.2\tnull\n39.6\tnull\n23.2\tnull\n44.5\tnull\n30.0\tnull\n30.8\tnull\n22.2\tnull\n10.3\tnull\n22.0\tnull\n34.4\tnull\n21.3\tnull\n24.3\tnull\n12.3\tnull\n33.7\tnull\n26.0\tnull\n12.9\tnull\n33.6\tnull\n23.8\tnull\n17.0\tnull\n20.3\tnull\n37.3\tnull\n11.1\tnull\n30.7\tnull\n24.2\tnull\n30.4\tnull\n26.9\tnull\n21.3\tnull\n28.3\tnull\n30.0\tnull\n49.4\tnull\n13.8\tnull\n23.2\tnull\n14.0\tnull\n29.2\tnull\n20.9\tnull\n12.4\tnull\n36.7\tnull\n32.4\tnull\n26.2\tnull\n23.0\tnull\n21.5\tnull\n40.4\tnull\n16.4\tnull\n15.5\tnull\n21.4\tnull\n34.3\tnull\n11.2\tnull\n18.2\tnull\n27.5\tnull\n28.9\tnull\n8.7\tnull\n26.7\tnull\n33.1\tnull\n14.3\tnull\n15.5\tnull\n22.6\tnull\n14.4\tnull\n10.9\tnull\n12.6\tnull\n31.4\tnull\n17.3\tnull\n20.1\tnull\n28.4\tnull\n18.5\tnull\n27.1\tnull\n15.4\tnull\n20.0\tnull\n27.7\tnull\n20.0\tnull\n22.2\tnull\n7.8\tnull\n32.2\tnull\n20.3\tnull\n19.7\tnull\n19.4\tnull\n24.6\tnull\n17.7\tnull\n15.7\tnull\n16.0\tnull\n18.1\tnull\n21.9\tnull\n13.9\tnull\n18.1\tnull\n18.9\tnull\n37.0\tnull\n13.7\tnull\n17.6\tnull\n27.2\tnull\n29.7\tnull\n29.7\tnull\n32.1\tnull\n19.2\tnull\n15.9\tnull\n24.3\tnull\n16.1\tnull\n14.1\tnull\n7.7\tnull\n23.6\tnull\n16.7\tnull\n16.4\tnull\n31.7\tnull\n14.5\tnull\n15.7\tnull\n16.1\tnull\n18.5\tnull\n13.0\tnull\n30.1\tnull\n22.2\tnull\n25.2\tnull\n22.1\tnull\n15.0\tnull\n10.2\tnull\n13.9\tnull\n15.7\tnull\n14.1\tnull\n21.1\tnull\n24.5\tnull\n27.2\tnull\n19.9\tnull\n18.7\tnull\n17.0\tnull\n12.3\tnull\n16.8\tnull\n19.1\tnull\n20.2\tnull\n16.2\tnull\n12.5\tnull\n16.2\tnull\n16.3\tnull\n13.8\tnull\n15.5\tnull\n17.9\tnull\n19.5\tnull\n15.9\tnull\n9.3\tnull\n25.7\tnull\n14.7\tnull\n17.2\tnull\n13.8\tnull\n21.4\tnull\n19.7\tnull\n12.2\tnull\n18.6\tnull\n14.5\tnull\n10.9\tnull\n12.5\tnull\n12.5\tnull\n12.1\tnull\n9.8\tnull\n16.3\tnull\n19.7\tnull\n18.1\tnull\n11.3\tnull\n15.8\tnull\n17.4\tnull\n11.6\tnull\n16.2\tnull\n18.5\tnull\n11.8\tnull\n19.1\tnull\n18.0\tnull\n17.7\tnull\n17.8\tnull\n21.5\tnull\n20.9\tnull\n9.3\tnull\n17.3\tnull\n12.9\tnull\n9.6\tnull\n"},{"type":"TEXT","data":""}]},"apps":[],"jobName":"paragraph_1593004753877_1266955606","id":"20200622-174919_20982955","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43303"},{"text":"%md\n#### timesData.csv kopyalanarak yeni bir csv dosyası, timesData_ml.csv adında oluşturuldu.\n>Burada lineer regresyonun çalışacağı **total_score, teaching, research ve citations** alanlarında **NULL** değere sahip satırlar silindi.\nLineer regresyon için oluşturulan timesData_ml.csv veri kaynağı kullanıldı.\n**research, teaching ve citations** alanları **feature, total_score** alanı da **label** olacak şekilde lineer regresyon hesabı yapılmıştır.","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h4>timesData.csv kopyalanarak yeni bir csv dosyası, timesData_ml.csv adında oluşturuldu.</h4>\n<blockquote>\n  <p>Burada lineer regresyonun çalışacağı <strong>total_score, teaching, research ve citations</strong> alanlarında <strong>NULL</strong> değere sahip satırlar silindi.<br/>Lineer regresyon için oluşturulan timesData_ml.csv veri kaynağı kullanıldı.<br/><strong>research, teaching ve citations</strong> alanları <strong>feature, total_score</strong> alanı da <strong>label</strong> olacak şekilde lineer regresyon hesabı yapılmıştır.</p>\n</blockquote>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753877_93209132","id":"20200623-173008_15447106","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43304"},{"text":"%md\n#### Kısım 1.1: Çalışılacak veri seti Scala üzerinde yüklendi ve DataFrame'e dönüştürüldü.","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h4>Kısım 1.1: Çalışılacak veri seti Scala üzerinde yüklendi ve DataFrame&rsquo;e dönüştürüldü.</h4>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753878_1335658596","id":"20200623-174058_22746451","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43305"},{"text":"import org.apache.spark.sql.SparkSession\nimport org.apache.spark.ml.linalg.Vectors\nimport org.apache.spark.ml.evaluation.RegressionEvaluator\nimport org.apache.spark.ml.regression.LinearRegression\nimport org.apache.spark.ml.tuning.{ParamGridBuilder, TrainValidationSplit}\nimport org.apache.spark.ml.feature.VectorAssembler\nimport org.apache.log4j._\nimport org.apache.spark.mllib.linalg.Vectors\n  \nval data = spark.read\n    .option(\"header\", \"true\")\n    .option(\"delimiter\",\";\")\n    .option(\"inferSchema\",\"true\")\n    .format(\"csv\")\n    .load(\"/home/enes/zeppelin-0.8.2-bin-all/bin/timesData_ml.csv\")\n\n// get DF to another variable\nval timesDF = data\n//timesDF.show()\n\n// checking schema field types...\ntimesDF.printSchema()\n","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"root\n |-- world_rank: integer (nullable = true)\n |-- university_name: string (nullable = true)\n |-- country: string (nullable = true)\n |-- teaching: double (nullable = true)\n |-- international: double (nullable = true)\n |-- research: double (nullable = true)\n |-- citations: double (nullable = true)\n |-- income: double (nullable = true)\n |-- total_score: double (nullable = true)\n |-- num_students: double (nullable = true)\n |-- student_staff_ratio: double (nullable = true)\n |-- international_students: string (nullable = true)\n |-- female_male_ratio: string (nullable = true)\n |-- year: integer (nullable = true)\n\nimport org.apache.spark.sql.SparkSession\nimport org.apache.spark.ml.linalg.Vectors\nimport org.apache.spark.ml.evaluation.RegressionEvaluator\nimport org.apache.spark.ml.regression.LinearRegression\nimport org.apache.spark.ml.tuning.{ParamGridBuilder, TrainValidationSplit}\nimport org.apache.spark.ml.feature.VectorAssembler\nimport org.apache.log4j._\nimport org.apache.spark.mllib.linalg.Vectors\ndata: org.apache.spark.sql.DataFrame = [world_rank: int, university_name: string ... 12 more fields]\ntimesDF: org.apache.spark.sql.DataFrame = [world_rank: int, university_name: string ... 12 more fields]\n"}]},"apps":[],"jobName":"paragraph_1593004753878_-1689371761","id":"20200622-175711_16313130","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43306"},{"text":"%md\n#### Kısım 1.2: Veri seti üzerinde çeşitli alanlar label ve feature olacak şekilde yeni DF'lerde tutuldu.","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h4>Kısım 1.2: Veri seti üzerinde çeşitli alanlar label ve feature olacak şekilde yeni DF&rsquo;lerde tutuldu.</h4>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753878_763256709","id":"20200623-174201_6007611","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43307"},{"text":"// Selecting (filter) label from timesData assigning to a new DF\n// in this example, we are trying to predict total_score. thus we assign total_score as label.\nval timesDF1 = timesDF.select(timesDF(\"total_score\").as(\"label\"),$\"teaching\",$\"research\",$\"citations\")\n\n// ML expects data in a N-dimensional vector format (featurelar birlestirilip vector yapilmali).\n// in this project, we try to predict total_score with teaching, research and citations features in timesData\n// here, we are combining this features as vector.\nval assembler = new VectorAssembler().setInputCols(Array(\"teaching\",\"research\",\"citations\")).setOutputCol(\"features\")\n\n// create new dataframe. this df contains both labels (timesDF1) and features.\nval timesDF2 = assembler.transform(timesDF1).select($\"label\",$\"features\")\n\ntimesDF2.show()","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+-----+----------------+\n|label|        features|\n+-----+----------------+\n| 96.1|[99.7,98.7,98.8]|\n| 96.0|[97.7,98.0,99.9]|\n| 95.6|[97.8,91.4,99.9]|\n| 94.3|[98.3,98.1,99.2]|\n| 94.2|[90.9,95.4,99.9]|\n| 91.2|[90.5,94.1,94.0]|\n| 91.2|[88.2,93.9,95.1]|\n| 91.1|[84.2,99.3,97.8]|\n| 90.6|[89.2,94.5,88.3]|\n| 89.5|[92.1,89.7,91.5]|\n| 87.7|[83.0,92.9,93.2]|\n| 86.9|[79.1,87.9,96.9]|\n| 86.4|[80.9,89.2,92.3]|\n| 83.9|[82.2,88.8,88.1]|\n| 83.4|[77.5,87.8,83.1]|\n| 83.4|[83.9,89.1,84.1]|\n| 82.0|[75.8,87.9,82.2]|\n| 81.0|[73.8,73.8,92.6]|\n| 79.5|[71.8,82.7,93.6]|\n| 79.3|[70.3,79.3,95.7]|\n+-----+----------------+\nonly showing top 20 rows\n\ntimesDF1: org.apache.spark.sql.DataFrame = [label: double, teaching: double ... 2 more fields]\nassembler: org.apache.spark.ml.feature.VectorAssembler = vecAssembler_e0f0216523eb\ntimesDF2: org.apache.spark.sql.DataFrame = [label: double, features: vector]\n"}]},"apps":[],"jobName":"paragraph_1593004753878_-1973333054","id":"20200623-173704_26783882","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43308"},{"text":"%md\n#### Kısım 1.3: LinReg modeli oluşturuldu ve katsayılar, uç veriler ve model özeti verildi.","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h4>Kısım 1.3: LinReg modeli oluşturuldu ve katsayılar, uç veriler ve model özeti verildi.</h4>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753878_-2056953815","id":"20200623-174228_25560739","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43309"},{"text":"// create an object of LinReg.\nval lr = new LinearRegression()\n\nval lrModel = lr.fit(timesDF2)\n\n// extract infos based on linear regression\nprintln(s\"Coefficients: ${lrModel.coefficients} Intercept: ${lrModel.intercept}\")\n\nval trainingSummary = lrModel.summary\n\nprintln(s\"numberOfIterations: ${trainingSummary.totalIterations}\")\n\ntrainingSummary.residuals.show()","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Coefficients: [0.25346357673410713,0.34843113885808635,0.30506372296292805] Intercept: 5.313314897887315\nnumberOfIterations: 1\n+--------------------+\n|           residuals|\n+--------------------+\n|  0.9859172676917893|\n|   1.301176123101456|\n|  3.1754752818913943|\n| -0.3722005307507743|\n|  2.1306494059244017|\n|   1.484871282614833|\n|  1.8019536416156825|\n|0.010607746718534372|\n|   2.813864697714621|\n|  1.6750858782231717|\n|   0.548016453120681|\n|  1.3499443217113054|\n|  1.3440425287038664|\n|-0.06482002906294326|\n|     2.5002085352601|\n| 0.12001744068336961|\n|  1.7708108524888928|\n|   3.017954345041673|\n| -1.3812193602900038|\n| -0.6569919412934979|\n+--------------------+\nonly showing top 20 rows\n\nlr: org.apache.spark.ml.regression.LinearRegression = linReg_5ca2b6a2ec9f\nlrModel: org.apache.spark.ml.regression.LinearRegressionModel = linReg_5ca2b6a2ec9f\ntrainingSummary: org.apache.spark.ml.regression.LinearRegressionTrainingSummary = org.apache.spark.ml.regression.LinearRegressionTrainingSummary@1ba1978b\n"}]},"apps":[],"jobName":"paragraph_1593004753879_-855873744","id":"20200622-180105_32760309","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43310"},{"text":"%md\n#### Kısım 1.4: Model evaluation: RMSE ve R^2 Değerleri\n>R-kare değeri, eklenen değişkenin, modeli ne derece açıkladığını belirtmektedir. [0-1] arasında değer alır.\nR-kare değerinin 1'e yakın olması amaçlanır. R-kare değeri düşük olduğunda, regresyon modeline daha fazla değişken eklenip değer yeniden gözlenebilir. Ya da eklenen yeni değişkenin çıkarılması değerlendirilebilir.<br>\n\n>Görüldüğü üzere total_score ile pozitif korelasyona sahip birden fazla alan regresyon modelinde kullanıldığında, değişkenler modeldeki varyasyonun %98'ini açıklayabilmektedir.\n**Modelin karmaşıklığını önlemek amacıyla,**  modele değişken ekleyip çıkarmak suretiyle en iyi R-kare değeri, en az değişken ile elde edilmeye çalışılır.","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h4>Kısım 1.4: Model evaluation: RMSE ve R^2 Değerleri</h4>\n<blockquote>\n  <p>R-kare değeri, eklenen değişkenin, modeli ne derece açıkladığını belirtmektedir. [0-1] arasında değer alır.<br/>R-kare değerinin 1&rsquo;e yakın olması amaçlanır. R-kare değeri düşük olduğunda, regresyon modeline daha fazla değişken eklenip değer yeniden gözlenebilir. Ya da eklenen yeni değişkenin çıkarılması değerlendirilebilir.<br></p>\n  <p>Görüldüğü üzere total_score ile pozitif korelasyona sahip birden fazla alan regresyon modelinde kullanıldığında, değişkenler modeldeki varyasyonun %98&rsquo;ini açıklayabilmektedir.<br/><strong>Modelin karmaşıklığını önlemek amacıyla,</strong> modele değişken ekleyip çıkarmak suretiyle en iyi R-kare değeri, en az değişken ile elde edilmeye çalışılır.</p>\n</blockquote>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753879_1582833109","id":"20200623-173743_12717606","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43311"},{"text":"println(s\"Root MSE: ${trainingSummary.rootMeanSquaredError}\")\n\nprintln(s\"R2: ${trainingSummary.r2}\")","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Root MSE: 1.5542109584137436\nR2: 0.9852521766674657\n"}]},"apps":[],"jobName":"paragraph_1593004753879_-423168906","id":"20200623-174352_18566664","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43312"},{"text":"%md\n#### Kısım 1.5: Alanların (field) birbiriyle olan korelasyonu gözlenmiştir.\n>Burada ilgili korelasyon hesabı PCC (pearson) olup, yalnızca timesDF2 içerisinde bulunan feature vektörleri ile yapılmıştır.","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h4>Kısım 1.5: Alanların (field) birbiriyle olan korelasyonu gözlenmiştir.</h4>\n<blockquote>\n  <p>Burada ilgili korelasyon hesabı PCC (pearson) olup, yalnızca timesDF2 içerisinde bulunan feature vektörleri ile yapılmıştır.</p>\n</blockquote>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753879_193610635","id":"20200623-175639_773170","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43313"},{"text":"import org.apache.spark.ml.linalg.{Matrix, Vectors}\nimport org.apache.spark.ml.stat.Correlation\nimport org.apache.spark.sql.Row\n\nval Row(coeff1: Matrix) = Correlation.corr(timesDF2, \"features\").head","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"import org.apache.spark.ml.linalg.{Matrix, Vectors}\nimport org.apache.spark.ml.stat.Correlation\nimport org.apache.spark.sql.Row\ncoeff1: org.apache.spark.ml.linalg.Matrix =\n1.0                  0.8921442177324062   0.22129988818459795\n0.8921442177324062   1.0                  0.19018511045777828\n0.22129988818459795  0.19018511045777828  1.0\n"}]},"apps":[],"jobName":"paragraph_1593004753879_-1198134831","id":"20200623-175637_11702918","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43314"},{"text":"%md\n### Kısım 2 (Sınıflandırma Algoritması Gerçekleme)\n#### Kullanılan veri seti: FMA: A Dataset For Music Analysis Data Set\n>https://archive.ics.uci.edu/ml/datasets/FMA%3A+A+Dataset+For+Music+Analysis\nSınıflandırma işlemi için veri üzerinde çeşitli ön işleme ve yükleme (load) işlemleri **Python** üzerinde yapılmıştır.\nVeri setini barındıran .csv içerisinde, alt kategoriler yer almaktadır.\nBu alt kategoriler için birtakım filtreleme ve import işlemleri için utils.py adında bir python dosyası kullanıldı. İlgili utils.py dosyası, veri seti ile birlikte paylaşılmaktadır.<br>\n\nK-means sınıflandırma için gerekli olan features ve label verileri, Python üzerinden ayıklanıp csv'ye yazıldı.\nArdından sınıflandırma gerçekleştirilmesi **PySpark** üzerinde yapıldı.","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"tableHide":true,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h3>Kısım 2 (Sınıflandırma Algoritması Gerçekleme)</h3>\n<h4>Kullanılan veri seti: FMA: A Dataset For Music Analysis Data Set</h4>\n<blockquote>\n  <p><a href=\"https://archive.ics.uci.edu/ml/datasets/FMA%3A+A+Dataset+For+Music+Analysis\">https://archive.ics.uci.edu/ml/datasets/FMA%3A+A+Dataset+For+Music+Analysis</a><br/>Sınıflandırma işlemi için veri üzerinde çeşitli ön işleme ve yükleme (load) işlemleri <strong>Python</strong> üzerinde yapılmıştır.<br/>Veri setini barındıran .csv içerisinde, alt kategoriler yer almaktadır.<br/>Bu alt kategoriler için birtakım filtreleme ve import işlemleri için utils.py adında bir python dosyası kullanıldı. İlgili utils.py dosyası, veri seti ile birlikte paylaşılmaktadır.<br></p>\n</blockquote>\n<p>K-means sınıflandırma için gerekli olan features ve label verileri, Python üzerinden ayıklanıp csv&rsquo;ye yazıldı.<br/>Ardından sınıflandırma gerçekleştirilmesi <strong>PySpark</strong> üzerinde yapıldı.</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753880_1807296200","id":"20200623-180219_24496931","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43315"},{"text":"%md\n#### 2.1. Python ile veri setinden feature ve labelların çıkarılması","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h4>2.1. Python ile veri setinden feature ve labelların çıkarılması</h4>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753880_-1503434288","id":"20200624-125611_1253188006","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43316"},{"text":"%pyspark\nfrom pyspark.mllib.clustering import KMeans, KMeansModel\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport matplotlib as mpl\nimport seaborn as sns\n\nimport utils\n\n# Load metadata and features.\ntracks = utils.load('/home/enes/Documents/big_data/KA5/tracks.csv')\nfeatures = utils.load('/home/enes/Documents/big_data/KA5/features.csv')\ntracks.shape, features.shape","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"((106574, 52), (106574, 518))\n"},{"type":"ANGULAR","data":"<div style='width:auto;height:auto'><img src={{figure_60887851c64e4c4298ee2679d1fe2681}} style='width=auto;height:auto'><div>\n"}]},"apps":[],"jobName":"paragraph_1593004753880_1530441538","id":"20200623-182818_33397143","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43317"},{"text":"%pyspark\ntracks.dtypes","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"album   comments                      int64\n        date_created         datetime64[ns]\n        date_released        datetime64[ns]\n        engineer                     object\n        favorites                     int64\n        id                            int64\n        information                category\n        listens                       int64\n        producer                     object\n        tags                         object\n        title                        object\n        tracks                        int64\n        type                       category\nartist  active_year_begin    datetime64[ns]\n        active_year_end      datetime64[ns]\n        associated_labels            object\n        bio                        category\n        comments                      int64\n        date_created         datetime64[ns]\n        favorites                     int64\n        id                            int64\n        latitude                    float64\n        location                     object\n        longitude                   float64\n        members                      object\n        name                         object\n        related_projects             object\n        tags                         object\n        website                      object\n        wikipedia_page               object\nset     split                        object\n        subset                     category\ntrack   bit_rate                      int64\n        comments                      int64\n        composer                     object\n        date_created         datetime64[ns]\n        date_recorded        datetime64[ns]\n        duration                      int64\n        favorites                     int64\n        genre_top                  category\n        genres                       object\n        genres_all                   object\n        information                  object\n        interest                      int64\n        language_code                object\n        license                    category\n        listens                       int64\n        lyricist                     object\n        number                        int64\n        publisher                    object\n        tags                         object\n        title                        object\ndtype: object\n"},{"type":"ANGULAR","data":""}]},"apps":[],"jobName":"paragraph_1593004753880_-2063652417","id":"20200624-024802_455354142","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43318"},{"text":"%md\n#### 2.2. Veri setinin okunması, feature ve label alanları için decomposition ve labelEncoder işlemlerinin gerçekleştirilmesi\n>Büyük veri seti içerisinden çalışılacak veriler ayıklanmaktadır. Ayrıca birtakım veri küçültme ve ön işleme işlemleri, **Python** üzerinde yapılmaktadır.\nBu noktada **PySpark** üzerinde çalışılacak veriler, **X_DF** ve **y_DF** içerisinde bulunmaktadır. Bu veriler PySpark ile kullanılmak üzere tekrardan csv dosyasına yazılır. \nDaha sonra bu csv verileri, tek bir csv dosyasına alınır.","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h4>2.2. Veri setinin okunması, feature ve label alanları için decomposition ve labelEncoder işlemlerinin gerçekleştirilmesi</h4>\n<blockquote>\n  <p>Büyük veri seti içerisinden çalışılacak veriler ayıklanmaktadır. Ayrıca birtakım veri küçültme ve ön işleme işlemleri, <strong>Python</strong> üzerinde yapılmaktadır.<br/>Bu noktada <strong>PySpark</strong> üzerinde çalışılacak veriler, <strong>X_DF</strong> ve <strong>y_DF</strong> içerisinde bulunmaktadır. Bu veriler PySpark ile kullanılmak üzere tekrardan csv dosyasına yazılır.<br/>Daha sonra bu csv verileri, tek bir csv dosyasına alınır.</p>\n</blockquote>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753880_1893218850","id":"20200624-125849_998281650","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43319"},{"text":"%pyspark\n#plt.figure(figsize=(8,5));\nsmall = tracks['set', 'subset'] <= 'small'\ngenre1 = tracks['track', 'genre_top'] == 'Instrumental'\ngenre2 = tracks['track', 'genre_top'] == 'Hip-Hop'\n\nX = features.loc[small & (genre1 | genre2), 'mfcc']\nX = skl.decomposition.PCA(n_components=2).fit_transform(X)\n\n# writing features to a new csv file\nX_DF = pd.DataFrame(data=X[1:,1:], index=X[1:,0], columns=X[0,1:])\nX_DF.dropna().to_csv (r'/home/enes/Documents/big_data/KA5/export_x_df.csv', index = False, header=False)\n\ny = tracks.loc[small & (genre1 | genre2), ('track', 'genre_top')]\ny = skl.preprocessing.LabelEncoder().fit_transform(y)\n\n# writing labels to a new csv file\ny_DF = pd.DataFrame(y)\ny_DF.dropna().to_csv (r'/home/enes/Documents/big_data/KA5/export_y_df.csv', index = False, header=False)\n\n#plt.scatter(X[:,0], X[:,1], c=y, cmap='RdBu', alpha=0.5)\n#plt.title('MFCC özelliğine göre müziklerin kategorileri')\n#classes = ['Instrumental', 'Hip-Hop']\n#plt.legend(handles=scatter.legend_elements()[0], labels=classes)\n#X.shape, y.shape\n","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"ANGULAR","data":""}]},"apps":[],"jobName":"paragraph_1593004753881_1312968060","id":"20200624-025943_1069303281","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43320"},{"text":"","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"ANGULAR","data":"<div style='width:auto;height:auto'><img src={{figure_49492187a7c44d66984be443292be642}} style='width=auto;height:auto'><div>\n"}]},"apps":[],"jobName":"paragraph_1593004753881_945397305","id":"20200624-115930_1109912044","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43321"},{"text":"%md\n#### 2.3. PySpark ile birleştirilmiş csv dosyasının okunması","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h4>2.3. PySpark ile birleştirilmiş csv dosyasının okunması</h4>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753881_63602437","id":"20200624-130142_687639125","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43322"},{"text":"%pyspark\nfrom pyspark.ml.clustering import KMeans\nfrom pyspark.ml.linalg import Vectors\nfrom pyspark.ml.feature import VectorAssembler\n\ndataset = spark.read.csv(\"file:///home/enes/Documents/big_data/KA5/export_df.csv\", header=True, inferSchema=True)\ndataset.head()\ndataset.columns\ndataset.show()","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+-----------------+----+\n|            feat1|lab1|\n+-----------------+----+\n| 3.20516905772554|   0|\n|-22.2597504161525|   0|\n|-18.4365791443494|   0|\n| 33.8184095020117|   0|\n| 39.6595031417516|   0|\n| 71.9167842134282|   0|\n| 73.2903369512792|   0|\n| 66.8558312180181|   0|\n| 29.6047593411497|   0|\n|-55.8916381233177|   0|\n|-13.3371607841921|   0|\n|-46.0961990113204|   0|\n| 17.1440816774589|   0|\n| -8.2378397453132|   0|\n| 11.2994793504431|   0|\n| 7.66937263514883|   0|\n| 32.0629432069313|   0|\n| 73.3247699664606|   0|\n| 18.4198873852281|   0|\n| 63.1778506471061|   0|\n+-----------------+----+\nonly showing top 20 rows\n\n"},{"type":"ANGULAR","data":""}]},"apps":[],"jobName":"paragraph_1593004753881_-163968800","id":"20200623-200136_15391392","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43323"},{"text":"%md\n#### 2.4. Model eğitimi için feature sütunlarının vectorAssembler ile birleştirilmesi\n>Kümeleme, regresyon gibi işlemlerden önce birden çok feature sütunu, Spark'ta tek bir vector üzerinde birleştirilir.\nBu işlemler vectorAssembler ile yapılır.\nBu örnekte tek bir feature sınıfı kullanılmaktadır (MFCC).","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h4>2.4. Model eğitimi için feature sütunlarının vectorAssembler ile birleştirilmesi</h4>\n<blockquote>\n  <p>Kümeleme, regresyon gibi işlemlerden önce birden çok feature sütunu, Spark&rsquo;ta tek bir vector üzerinde birleştirilir.<br/>Bu işlemler vectorAssembler ile yapılır.<br/>Bu örnekte tek bir feature sınıfı kullanılmaktadır (MFCC).</p>\n</blockquote>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753882_1733816667","id":"20200624-130248_1400597712","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43324"},{"text":"%pyspark\nfeat_cols = ['feat1']\n# assemble multiple features to one vector. in this case, we have only one feature column that is MFCC \nvec_assembler = VectorAssembler(inputCols = feat_cols, outputCol='features')\ncluster_final_data = vec_assembler.transform(dataset)","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"ANGULAR","data":""}]},"apps":[],"jobName":"paragraph_1593004753882_235041166","id":"20200624-121333_2130430992","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43325"},{"text":"%md\n#### 2.5. KMeans, 2 cluster kullanarak tahminleme yapmaktadır.\nprediction sütununda ilgili özellik neticesinde tahmin edilen değer gösterilmektedir.","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h4>2.5. KMeans, 2 cluster kullanarak tahminleme yapmaktadır.</h4>\n<p>prediction sütununda ilgili özellik neticesinde tahmin edilen değer gösterilmektedir.</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753882_-1102145708","id":"20200624-124503_2000835512","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43326"},{"text":"%pyspark\nkmeans = KMeans(k=2, seed=1)\nmodel = kmeans.fit(cluster_final_data.select('features'))\n\ntransformed = model.transform(cluster_final_data)\ntransformed.show()   ","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+-----------------+----+-------------------+----------+\n|            feat1|lab1|           features|prediction|\n+-----------------+----+-------------------+----------+\n| 3.20516905772554|   0| [3.20516905772554]|         1|\n|-22.2597504161525|   0|[-22.2597504161525]|         1|\n|-18.4365791443494|   0|[-18.4365791443494]|         1|\n| 33.8184095020117|   0| [33.8184095020117]|         0|\n| 39.6595031417516|   0| [39.6595031417516]|         0|\n| 71.9167842134282|   0| [71.9167842134282]|         0|\n| 73.2903369512792|   0| [73.2903369512792]|         0|\n| 66.8558312180181|   0| [66.8558312180181]|         0|\n| 29.6047593411497|   0| [29.6047593411497]|         0|\n|-55.8916381233177|   0|[-55.8916381233177]|         1|\n|-13.3371607841921|   0|[-13.3371607841921]|         1|\n|-46.0961990113204|   0|[-46.0961990113204]|         1|\n| 17.1440816774589|   0| [17.1440816774589]|         0|\n| -8.2378397453132|   0| [-8.2378397453132]|         1|\n| 11.2994793504431|   0| [11.2994793504431]|         0|\n| 7.66937263514883|   0| [7.66937263514883]|         0|\n| 32.0629432069313|   0| [32.0629432069313]|         0|\n| 73.3247699664606|   0| [73.3247699664606]|         0|\n| 18.4198873852281|   0| [18.4198873852281]|         0|\n| 63.1778506471061|   0| [63.1778506471061]|         0|\n+-----------------+----+-------------------+----------+\nonly showing top 20 rows\n\n"},{"type":"ANGULAR","data":""}]},"apps":[],"jobName":"paragraph_1593004753882_-1019779944","id":"20200624-121600_1146273188","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43327"},{"text":"%pyspark\ntransformed.describe().show()\n","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+-------+--------------------+------------------+-------------------+\n|summary|               feat1|              lab1|         prediction|\n+-------+--------------------+------------------+-------------------+\n|  count|                1999|              1999|               1999|\n|   mean|-0.00202335020458...|0.5002501250625313|  0.544272136068034|\n| stddev|   66.96593853592012|0.5001250468945401|0.49816073922087756|\n|    min|   -206.937953664051|                 0|                  0|\n|    max|    236.144861873731|                 1|                  1|\n+-------+--------------------+------------------+-------------------+\n\n"},{"type":"ANGULAR","data":""}]},"apps":[],"jobName":"paragraph_1593004753882_-1244440725","id":"20200624-121807_250303938","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43328"},{"text":"%md\n#### 2.6. Model evaluation: Set Sum of Squared Errors (SSSE)\n","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h4>2.6. Model evaluation: Set Sum of Squared Errors (SSSE)</h4>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753883_-597031361","id":"20200624-125101_2127986314","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43329"},{"text":"%pyspark\n# Evaluate clustering by computing Within Set Sum of Squared Errors.\nwssse = model.computeCost(cluster_final_data)\n\nprint(\"Within Set Sum of Squared Errors = \" + str(wssse))","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Within Set Sum of Squared Errors = 3337697.4385068025\n"},{"type":"ANGULAR","data":""}]},"apps":[],"jobName":"paragraph_1593004753883_671889369","id":"20200624-124835_222645042","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43330"},{"text":"%md\n#### 2.7. Cluster Centers","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h4>2.7. Cluster Centers</h4>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753883_998953783","id":"20200624-125133_1756639906","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43331"},{"text":"%pyspark\ncenters = model.clusterCenters()\nprint(\"Cluster Centers: \")\nfor center in centers:\n    print(center)","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Cluster Centers: \n[57.95449641]\n[-48.52995488]\n"},{"type":"ANGULAR","data":""}]},"apps":[],"jobName":"paragraph_1593004753883_890533774","id":"20200624-124727_1131428942","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43332"},{"text":"%md\n### Kısım 3 (Dünya kupası verilerini kumeleme) Herhangi bir kümeleme yontemi ile kumelenmeli ve modelin performansı sunulmalıdır.\nhttps://www.kaggle.com/oliversinn/fifa-18-visualisation-clustering-ml/data","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h3>Kısım 3 (Dünya kupası verilerini kumeleme) Herhangi bir kümeleme yontemi ile kumelenmeli ve modelin performansı sunulmalıdır.</h3>\n<p><a href=\"https://www.kaggle.com/oliversinn/fifa-18-visualisation-clustering-ml/data\">https://www.kaggle.com/oliversinn/fifa-18-visualisation-clustering-ml/data</a></p>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753883_-377673541","id":"20200624-125013_1256362646","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43333"},{"text":"%md\n#### 3.1. Veri ön işleme\n* CompleteDataset.csv içerisinde 0-100 arasında nümerik değer alan Acceleration-Volleys alanlarındaki + ve - ibarelerini takip eden numaralar silindi, alanlardaki veriler tamamen int'e çevrildi.\n* CompleteDataset.csv içerisinde ilk 5000 satır ile çalışıldı.\n* **Bu kümeleme çalışmasında, k-means kullanarak yaş (age) ve genel puan (overall) alanları ile kaç alt grup oluşturulabileceği araştırılmıştır.**","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h4>3.1. Veri ön işleme</h4>\n<ul>\n  <li>CompleteDataset.csv içerisinde 0-100 arasında nümerik değer alan Acceleration-Volleys alanlarındaki + ve - ibarelerini takip eden numaralar silindi, alanlardaki veriler tamamen int&rsquo;e çevrildi.</li>\n  <li>CompleteDataset.csv içerisinde ilk 5000 satır ile çalışıldı.</li>\n  <li><strong>Bu kümeleme çalışmasında, k-means kullanarak yaş (age) ve genel puan (overall) alanları ile kaç alt grup oluşturulabileceği araştırılmıştır.</strong></li>\n</ul>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753884_1176970251","id":"20200624-130608_844651774","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43334"},{"text":"%md\n#### 3.2. K-means için uygun küme sayısının belirlenmesi\n>K-Means kümeleme algoritması için küme sayısı, Elbow metodu ile belirlendi.\n* Elbow metodunda her bir verinin centroid'e uzaklığının kareler toplamı alınır.\n* Bu toplam farkının değişimi, bir sonraki küme sayısına göre azaldığında optimum küme sayısı belirlenmiş olur.","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h4>3.2. K-means için uygun küme sayısının belirlenmesi</h4>\n<blockquote>\n  <p>K-Means kümeleme algoritması için küme sayısı, Elbow metodu ile belirlendi.<br/>* Elbow metodunda her bir verinin centroid&rsquo;e uzaklığının kareler toplamı alınır.<br/>* Bu toplam farkının değişimi, bir sonraki küme sayısına göre azaldığında optimum küme sayısı belirlenmiş olur.</p>\n</blockquote>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753884_10870872","id":"20200624-132448_788613729","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43335"},{"text":"%pyspark\nfrom sklearn.cluster import KMeans\n\n# read CompleteDataset csv file\ndf_fifa = pd.read_csv(\"/home/enes/Documents/big_data/KA5/CompleteDataset.csv\")\n","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"ANGULAR","data":""}]},"apps":[],"jobName":"paragraph_1593004753884_-158765641","id":"20200624-131925_584589524","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43336"},{"text":"%md\n##### 3.2.1. 1-11 arası küme oluşturarak k-means çalıştırılır. Elbow metodu ile çıktılar gözlenir.\n* wcss içerisinde, Elbow metodunun ilgili küme sayısı için hesapladığı mesafeler toplamı vardır.\n* wcss gözlendiğinde, **ilgili veri seti için 4 küme ile çalışmak** yeterli olacaktır. (matplotlib çalışmadı, çizdirilemedi).","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h5>3.2.1. 1-11 arası küme oluşturarak k-means çalıştırılır. Elbow metodu ile çıktılar gözlenir.</h5>\n<ul>\n  <li>wcss içerisinde, Elbow metodunun ilgili küme sayısı için hesapladığı mesafeler toplamı vardır.</li>\n  <li>wcss gözlendiğinde, <strong>ilgili veri seti için 4 küme ile çalışmak</strong> yeterli olacaktır. (matplotlib çalışmadı, çizdirilemedi).</li>\n</ul>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753884_452125909","id":"20200624-133235_1774000165","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43337"},{"text":"%pyspark\nX = df_fifa.loc[1:5000, ['Age', 'Overall']].values \n\nwcss = []\n\nfor i in range(1, 11):\n    kmeans = KMeans(n_clusters=i, init='k-means++', max_iter=300, n_init=10, random_state=0)\n    kmeans.fit(X)\n    wcss.append(kmeans.inertia_)\n\nwcss\n","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"[163699.35599999997, 104948.42764968936, 66774.1182459701, 53913.38045048327, 44513.313983609725, 38252.938055439525, 33680.78381994195, 30249.736248019253, 27416.73690535642, 24951.781809478947]\n"},{"type":"ANGULAR","data":""}]},"apps":[],"jobName":"paragraph_1593004753885_-1422205343","id":"20200624-132142_550044772","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43338"},{"text":"%md\n#### 3.3. PySpark üzerinde çalışmak üzere, veri setinden 5000 satır ve Age, Overall sütunları yeni bir dosyaya yazılır.\n* İlgili csv dosyasında kümeleme işlemi için kullanılacak age ve overall bilgileri (feature) mevcuttur.","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h4>3.3. PySpark üzerinde çalışmak üzere, veri setinden 5000 satır ve Age, Overall sütunları yeni bir dosyaya yazılır.</h4>\n<ul>\n  <li>İlgili csv dosyasında kümeleme işlemi için kullanılacak age ve overall bilgileri (feature) mevcuttur.</li>\n</ul>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753885_259836734","id":"20200624-134440_654078349","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43339"},{"text":" %pyspark\nx_dataFrame = pd.DataFrame(X)\nx_dataFrame.dropna().to_csv (r'/home/enes/Documents/big_data/KA5/export_completeDataset.csv', index = False, header=True)\n\n","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"ANGULAR","data":""}]},"apps":[],"jobName":"paragraph_1593004753885_-1691581613","id":"20200624-134527_1876958634","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43340"},{"text":"%md\n#### 3.4. Yeni csv verinin okunması ve PySpark ile K-means işlemlerinin başlaması","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h4>3.4. Yeni csv verinin okunması ve PySpark ile K-means işlemlerinin başlaması</h4>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753885_2030922669","id":"20200624-151727_258673013","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43341"},{"text":"%pyspark\ndatasetFifa = spark.read.csv(\"file:///home/enes/Documents/big_data/KA5/export_completeDataset.csv\", header=True, inferSchema=True)\ndatasetFifa.show()","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+---+-------+\n|age|overall|\n+---+-------+\n| 32|     94|\n| 25|     92|\n| 30|     92|\n| 31|     92|\n| 26|     90|\n| 26|     89|\n| 28|     91|\n| 26|     90|\n| 27|     90|\n| 28|     88|\n| 29|     90|\n| 31|     90|\n| 23|     88|\n| 24|     88|\n| 25|     89|\n| 31|     89|\n| 31|     87|\n| 29|     89|\n| 32|     89|\n| 39|     89|\n+---+-------+\nonly showing top 20 rows\n\n"},{"type":"ANGULAR","data":""}]},"apps":[],"jobName":"paragraph_1593004753885_1758213233","id":"20200624-134339_1874609652","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43342"},{"text":"%md\n#### 3.5. Age ve Overall sütunlarının vectorAssembler ile birleştirilmesi\n>Spark'ta kümeleme işlemi için tüm feature sütunlarının vectorAssembler ile birleştirilmesi gerektiğinden bahsetmiştik. Bu işlemi yeni veri seti için de uyguluyoruz.\nİlgili örnekte iki adet feature sütunu kullanılmaktadır (Age ve Overall (performance)).","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h4>3.5. Age ve Overall sütunlarının vectorAssembler ile birleştirilmesi</h4>\n<blockquote>\n  <p>Spark&rsquo;ta kümeleme işlemi için tüm feature sütunlarının vectorAssembler ile birleştirilmesi gerektiğinden bahsetmiştik. Bu işlemi yeni veri seti için de uyguluyoruz.<br/>İlgili örnekte iki adet feature sütunu kullanılmaktadır (Age ve Overall (performance)).</p>\n</blockquote>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753886_-1589009858","id":"20200624-151803_1417006659","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43343"},{"text":"%pyspark\nfeature_cols = ['age', 'overall']\n\n# assemble multiple features to one vector; that is vec_assembler\nvec_assembler = VectorAssembler(inputCols = feature_cols, outputCol='features')\nk_means_cluter_data = vec_assembler.transform(datasetFifa)","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"ANGULAR","data":""}]},"apps":[],"jobName":"paragraph_1593004753886_331832067","id":"20200624-152151_1098313632","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43344"},{"text":"%md\n#### 3.6. K-means kümeleme, 4 farklı küme* ile gerçekleştirilir.\n* *Daha önceden değinilen, Elbow yöntemi ile bulunan optimum küme sayısı.","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h4>3.6. K-means kümeleme, 4 farklı küme* ile gerçekleştirilir.</h4>\n<ul>\n  <li>*Daha önceden değinilen, Elbow yöntemi ile bulunan optimum küme sayısı.\n</li>\n</ul>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753886_1126854319","id":"20200624-152348_1597502569","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43345"},{"text":"%pyspark\nfrom pyspark.ml.clustering import KMeans\n\nkmeans_fifa = KMeans(featuresCol='features', k=4)\nmodel = kmeans_fifa.fit(k_means_cluter_data)\n\ntransformed = model.transform(k_means_cluter_data)\ntransformed.show()  ","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+---+-------+-----------+----------+\n|age|overall|   features|prediction|\n+---+-------+-----------+----------+\n| 32|     94|[32.0,94.0]|         0|\n| 25|     92|[25.0,92.0]|         0|\n| 30|     92|[30.0,92.0]|         0|\n| 31|     92|[31.0,92.0]|         0|\n| 26|     90|[26.0,90.0]|         0|\n| 26|     89|[26.0,89.0]|         0|\n| 28|     91|[28.0,91.0]|         0|\n| 26|     90|[26.0,90.0]|         0|\n| 27|     90|[27.0,90.0]|         0|\n| 28|     88|[28.0,88.0]|         0|\n| 29|     90|[29.0,90.0]|         0|\n| 31|     90|[31.0,90.0]|         0|\n| 23|     88|[23.0,88.0]|         0|\n| 24|     88|[24.0,88.0]|         0|\n| 25|     89|[25.0,89.0]|         0|\n| 31|     89|[31.0,89.0]|         0|\n| 31|     87|[31.0,87.0]|         0|\n| 29|     89|[29.0,89.0]|         0|\n| 32|     89|[32.0,89.0]|         0|\n| 39|     89|[39.0,89.0]|         0|\n+---+-------+-----------+----------+\nonly showing top 20 rows\n\n"},{"type":"ANGULAR","data":""}]},"apps":[],"jobName":"paragraph_1593004753886_107807703","id":"20200624-152621_2044249353","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43346"},{"text":"%md\n#### 3.7. Model evaluation: Set Sum of Squared Errors (SSSE)\n","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h4>3.7. Model evaluation: Set Sum of Squared Errors (SSSE)</h4>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753886_-1425600228","id":"20200624-152647_220485292","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43347"},{"text":"%pyspark\n\n#Evaluate clustering by computing Within Set Sum of Squared Errors.\nwssse = model.computeCost(k_means_cluter_data)\n\nprint(\"Within Set Sum of Squared Errors = \" + str(wssse))","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Within Set Sum of Squared Errors = 55830.21067665932\n"},{"type":"ANGULAR","data":""}]},"apps":[],"jobName":"paragraph_1593004753887_1758716048","id":"20200624-153316_257133213","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43348"},{"text":"%md\n#### 3.7. Model evaluation: Prediction count for every cluster\n>Burada, dört küme içinde bulunan veriler görülmektedir. Veriler, homojen bir şekilde dağılmıştır diyebiliriz.\n>Age ve Overall özellikleri ile, dört kümede bu iki özelliği gösterebiliriz. Elde edilen grafik çıktısı için bkz: KA5","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h4>3.7. Model evaluation: Prediction count for every cluster</h4>\n<blockquote>\n  <p>Burada, dört küme içinde bulunan veriler görülmektedir. Veriler, homojen bir şekilde dağılmıştır diyebiliriz.<br/>Age ve Overall özellikleri ile, dört kümede bu iki özelliği gösterebiliriz. Elde edilen grafik çıktısı için bkz: KA5</p>\n</blockquote>\n</div>"}]},"apps":[],"jobName":"paragraph_1593004753887_36054977","id":"20200624-153935_605489330","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43349"},{"text":"%pyspark\nmodel.transform(k_means_cluter_data).groupBy('prediction').count().show()","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+----------+-----+\n|prediction|count|\n+----------+-----+\n|         1|  911|\n|         3| 1429|\n|         2| 1599|\n|         0| 1061|\n+----------+-----+\n\n"},{"type":"ANGULAR","data":""}]},"apps":[],"jobName":"paragraph_1593004753887_971001030","id":"20200624-153701_400096344","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43350"},{"text":"%pyspark\n","user":"anonymous","dateUpdated":"2020-06-24T16:19:13+0300","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1593004753887_-1852640021","id":"20200624-153925_772224623","dateCreated":"2020-06-24T16:19:13+0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:43351"}],"name":"170201088","id":"2FE823M1W","noteParams":{},"noteForms":{},"angularObjects":{"md:shared_process":[],"python:shared_process":[],"spark:shared_process":[]},"config":{"isZeppelinNotebookCronEnable":false,"looknfeel":"default","personalizedMode":"false"},"info":{}}